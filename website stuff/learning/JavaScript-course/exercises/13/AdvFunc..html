<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title class="js-title">12g</title>
</head>
<body>

  <button class="js-button" onclick="
    change();   
  " style="margin-bottom: 20px;">Start</button>

  <div>
    <button class="js-amazon-button" onclick="
      displayMessage();
    ">Add to cart</button>
  </div>
  <p class="js-message"></p>
  <button onclick="
    addMessage();
  ">Add</button>
  <button onclick="
    removeMessage();
  ">Remove</button>
  <script>

/*
    const add = function() {
      console.log(2 + 3); 
    }


    function runTwice(fun) {
      fun();
      fun();
    }

    runTwice(function () {
      console.log('12b');
    })

      // function() {console.log('12b');} 
      // function() {console.log('12b');} 

    runTwice(add);
*/

    function change() {
      const buttonElement = document.querySelector('.js-button'); 
      const classList = buttonElement.classList; 
      if (classList.contains('activated')) {
        classList.remove('activated');
        buttonElement.innerHTML = 'Start' 
      } else {
        buttonElement.innerHTML = 'Loading...'
        setTimeout(function() {
          classList.add('activated')
          buttonElement.innerHTML = 'Finished!'
        }, 2000); 
      }
    }

    let timer; 

    function displayMessage() {
        const buttonElement = document.querySelector('.js-message'); 
        buttonElement.innerHTML = 'Added to cart!'; 
        clearTimeout(timer);
        timer = setTimeout(function() {
          buttonElement.innerHTML = '';
        }, 2000);
    }

    let message = 2;
    let logic; 

    setInterval(function() {
      changeMessage(); 
    }, 1000)

    function changeMessage() {
      const titleElement = document.querySelector('.js-title'); 

      if (message < 1) {
        logic = false; 
      }

      if (logic) {
        logic = false;
        titleElement.innerHTML = `(${message}) New messsages`;
      } else {
        logic = true; 
        titleElement.innerHTML = `App`;
      }
    }

    function addMessage() {
      message++;
    }

    function removeMessage () {
      if (message < 1) {
        return; 
      } else {
        message--;
      }

    }

  </script>
</body>
</html>